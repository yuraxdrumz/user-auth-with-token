{"version":3,"sources":["profile-controller.js"],"names":[],"mappings":";;AAAA,CAAC,YAAI;AACD,YAAQ,MAAR,CAAe,OAAf,EACC,UADD,CACY,mBADZ,EACgC,CAAC,QAAD,EAAU,OAAV,EAAkB,WAAlB,EAA8B,MAA9B,EAAqC,UAArC,EAAgD,QAAhD,EAAyD,UAAC,MAAD,EAAQ,KAAR,EAAc,SAAd,EAAwB,IAAxB,EAA6B,QAA7B,EAAsC,MAAtC,EAA+C;;;AAGpI,YAAG,CAAC,KAAK,UAAL,EAAJ,EAAuB,OAAO,EAAP,CAAU,MAAV;;;AAGvB,eAAO,IAAP,GAAc,EAAd;AACA,iBAAS,UAAT,GAAsB,IAAtB,CAA2B,UAAC,GAAD,EAAO;AAC9B,mBAAO,IAAP,GAAc,IAAI,IAAlB;AACA,mBAAO,QAAP,GAAkB,IAAlB;AACH,SAHD;;AAKA,eAAO,MAAP,GAAgB,YAAI;AAChB,iBAAK,MAAL;AACA,mBAAO,QAAP,GAAkB,KAAlB;AACA,sBAAU,IAAV,CAAe,GAAf;AACH,SAJD;;AAMA,eAAO,UAAP,GAAoB,YAAK;AACrB,iBAAK,UAAL,CAAgB,OAAO,IAAvB,EAA6B,IAA7B,CAAkC,UAAC,GAAD,EAAQ;AACtC,oBAAG,OAAO,IAAV,EAAe;AACX,yBAAK,WAAL,CAAiB,OAAO,IAAxB,EAA6B,OAAO,IAAP,CAAY,GAAzC,EAA8C,IAA9C,CAAmD,UAAC,GAAD,EAAQ;AACvD,+BAAO,IAAP,GAAc,KAAK,WAAL,EAAd;AACH,qBAFD;AAGH;AACD,uBAAO,IAAP,GAAc,KAAK,WAAL,EAAd;AACH,aAPD;AAQH,SATD;AAUH,KA5B+B,CADhC;AA8BH,CA/BD","file":"profile-controller-compiled.js","sourcesContent":["(()=>{\r\n    angular.module('myApp')\r\n    .controller('profileController',['$scope','$http','$location','auth','meanData','$state',($scope,$http,$location,auth,meanData,$state)=>{\r\n\r\n        //if user not authenticated, go to main\r\n        if(!auth.isLoggedIn()) $state.go('main')\r\n\r\n        // get user profile\r\n        $scope.user = {}\r\n        meanData.getProfile().then((res)=>{\r\n            $scope.user = res.data\r\n            $scope.loggedIn = true\r\n        });\r\n        //logout function\r\n        $scope.logout = ()=>{\r\n            auth.logout();\r\n            $scope.loggedIn = false;\r\n            $location.path('/')\r\n        };\r\n        //change info\r\n        $scope.changeInfo = ()=> {\r\n            auth.updateUser($scope.user).then((res)=> {\r\n                if($scope.file){\r\n                    auth.uploadPhoto($scope.file,$scope.user._id).then((res)=> {\r\n                        $scope.user = auth.currentUser()\r\n                    })\r\n                }\r\n                $scope.user = auth.currentUser()\r\n            })\r\n        }\r\n    }])\r\n})();\r\n"]}