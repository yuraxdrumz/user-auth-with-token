{"version":3,"sources":["register-controller.js"],"names":[],"mappings":";;AAAA,CAAC,YAAK;AACF,YAAQ,MAAR,CAAe,OAAf,EACC,UADD,CACY,eADZ,EAC4B,CAAC,QAAD,EAAU,OAAV,EAAkB,WAAlB,EAA8B,MAA9B,EAAqC,UAAC,MAAD,EAAQ,KAAR,EAAc,SAAd,EAAwB,IAAxB,EAA+B;;;AAG5F,eAAO,WAAP,GAAqB,KAArB;AACA,aAAK,MAAL;;;AAGA,eAAO,MAAP,CAAc,YAAI;AACd,gBAAG,OAAO,IAAV,EAAgB,OAAO,WAAP,GAAqB,IAArB;AACnB,SAFD;;;AAKA,eAAO,QAAP,GAAkB,YAAI;AAClB,iBAAK,QAAL,CAAc,OAAO,IAArB,EAA2B,IAA3B,CAAgC,YAAI;AAChC,qBAAK,WAAL,CAAiB,OAAO,IAAxB,EAA6B,KAAK,WAAL,GAAmB,GAAhD,EAAqD,IAArD,CAA0D,YAAI;AAC1D,yBAAK,MAAL;AACA,8BAAU,IAAV,CAAe,GAAf;AACH,iBAHD;AAIH,aALD,EAKG,KALH,CAKS,UAAC,GAAD,EAAO;AACZ,sBAAM,IAAI,OAAV;AACH,aAPD;AAQH,SATD;AAUH,KAtB2B,CAD5B;AAwBH,CAzBD","file":"register-controller-compiled.js","sourcesContent":["(()=> {\r\n    angular.module('myApp')\r\n    .controller('regController',['$scope','$http','$location','auth',($scope,$http,$location,auth)=>{\r\n\r\n        //on register enter, make sure that no token exists in localStorage\r\n        $scope.isFormValid = false;\r\n        auth.logout();\r\n\r\n        // watch if file exists, if it does, form is valid and user can register\r\n        $scope.$watch(()=>{\r\n            if($scope.file) $scope.isFormValid = true\r\n        });\r\n\r\n        // register function\r\n        $scope.register = ()=>{\r\n            auth.register($scope.user).then(()=>{\r\n                auth.uploadPhoto($scope.file,auth.currentUser()._id).then(()=>{\r\n                    auth.logout();\r\n                    $location.path('/')\r\n                })\r\n            }).catch((err)=>{\r\n                throw err.message\r\n            })\r\n        }\r\n    }])\r\n})();\r\n"]}